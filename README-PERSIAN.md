# 🏭 داشبورد مانیتورینگ کارخانه هوشمند

یک اپلیکیشن وب پیشرفته (PWA) برای نظارت بر سیستم‌های کارخانه هوشمند با رابط کاربری فارسی و قابلیت کار آفلاین.

## ✨ ویژگی‌ها

- 🌙 **تم تیره زیبا** با افکت‌های glassmorphism
- 📱 **PWA کامل** - قابل نصب روی موبایل و دسکتاپ
- 🔄 **کار آفلاین** - با Service Worker پیشرفته
- 📊 **نمودارهای تعاملی** - با Chart.js
- 🌡️ **گیج‌های سفارشی** - برای حسگرهای محیطی
- 🔔 **سیستم امنیتی** - ردیابی رویدادها و هشدارها
- 🇮🇷 **کاملاً فارسی** - با فونت Vazirmatn و RTL

## 🚀 روش‌های اجرا

### روش ۱: Python (توصیه شده)
```bash
# رفتن به پوشه پروژه
cd /path/to/project

# اجرای سرور
python3 -m http.server 8000

# باز کردن مرورگر
# http://localhost:8000
```

### روش ۲: Node.js
```bash
# نصب http-server
npm install -g http-server

# اجرای سرور
http-server -p 8080

# باز کردن مرورگر
# http://localhost:8080
```

### روش ۳: PHP
```bash
php -S localhost:8000
```

### روش ۴: VS Code Live Server
1. VS Code رو باز کنید
2. Live Server extension رو نصب کنید
3. روی `index.html` راست کلیک کنید
4. "Open with Live Server" رو انتخاب کنید

## 📂 ساختار فایل‌ها

```
📁 smart-factory-dashboard/
├── 📄 index.html          # صفحه اصلی
├── 🎨 style.css           # استایل‌ها و تم
├── ⚡ app.js              # منطق اپلیکیشن
├── 📋 manifest.json       # تنظیمات PWA
├── 🔧 service-worker.js   # عملکرد آفلاین
├── 📊 data.csv            # داده‌های حسگرها
└── 📖 README-PERSIAN.md   # راهنما
```

## 📊 فرمت داده‌ها

فایل `data.csv` باید شامل ستون‌های زیر باشد:

```csv
Date,Time,TempC,Light,Gas,Vibration,Voltage,Ultrasonic,Power,Current,Sound,Flame
2025/01/15,08:00:00,22.5,850,180,8.2,220.5,120,98.5,0.65,0,0
```

### توضیح ستون‌ها:
- **Date**: تاریخ (YYYY/MM/DD)
- **Time**: زمان (HH:MM:SS)
- **TempC**: دمای محیط (درجه سلسیوس)
- **Light**: شدت نور (Lux)
- **Gas**: سطح گاز (ppm)
- **Vibration**: میزان ارتعاش
- **Voltage**: ولتاژ سیستم (ولت)
- **Ultrasonic**: فاصله‌سنج اولتراسونیک
- **Power**: توان مصرفی
- **Current**: جریان (آمپر)
- **Sound**: حسگر صوت (0 یا 1)
- **Flame**: حسگر آتش (0 یا 1)

## 🎯 بخش‌های داشبورد

### 1. 📊 داشبورد کلی
- نمای کلی وضعیت سیستم
- KPI های مهم (دما، گاز، ولتاژ، امنیت)
- نمودار روند تغییرات دما

### 2. 🌡️ مانیتورینگ محیط
- گیج دمای محیط
- گیج سطح گاز
- نمودار تاریخچه نور
- نشانگر وضعیت حسگر آتش

### 3. ⚙️ وضعیت تجهیزات
- نمودار ولتاژ
- نمودار جریان
- نمودار ارتعاشات (Bar Chart)
- وضعیت کلی تجهیزات

### 4. 🔒 گزارشات امنیتی
- آمار رویدادهای امنیتی
- لاگ کامل رویدادها
- هشدارهای صوتی و آتش

## 🔧 نصب به عنوان PWA

### روی موبایل:
1. سایت رو باز کنید
2. منوی مرورگر رو باز کنید
3. "Add to Home Screen" رو انتخاب کنید

### روی دسکتاپ:
1. در Chrome/Edge آیکون نصب رو کلیک کنید
2. یا از منو "Install App" رو انتخاب کنید

## 🛠️ سفارشی‌سازی

### تغییر رنگ‌ها:
در فایل `style.css` متغیرهای CSS رو ویرایش کنید:

```css
:root {
    --primary-bg: #0d1117;
    --accent-color: #58a6ff;
    --success-color: #238636;
    --warning-color: #d29922;
    --error-color: #f85149;
}
```

### افزودن حسگر جدید:
1. ستون جدید به `data.csv` اضافه کنید
2. منطق پردازش در `app.js` بنویسید
3. UI مربوطه در `index.html` ایجاد کنید

## 🔄 بروزرسانی داده‌ها

### دستی:
فایل `data.csv` رو بروزرسانی کنید و صفحه رو رفرش کنید.

### خودکار:
تابع `startDataRefresh()` در `app.js` رو فعال کنید:

```javascript
// خط آخر app.js
startDataRefresh(); // این خط رو کامنت نکنید
```

## 🌐 مرورگرهای پشتیبانی شده

- ✅ Chrome 80+
- ✅ Firefox 75+
- ✅ Safari 13+
- ✅ Edge 80+
- ✅ موبایل iOS/Android

## 🐛 عیب‌یابی

### مشکل بارگذاری داده‌ها:
1. مطمئن شوید `data.csv` در همان پوشه `index.html` است
2. کنسول مرورگر رو چک کنید (F12)
3. اگه فایل CSV وجود نداشته باشه، داده‌های نمونه نمایش داده می‌شه

### مشکل نمودارها:
1. اتصال اینترنت رو چک کنید (برای Chart.js CDN)
2. JavaScript errors رو در کنسول بررسی کنید

### مشکل PWA:
1. مطمئن شوید از HTTPS یا localhost استفاده می‌کنید
2. Service Worker در کنسول رو چک کنید

## 📞 پشتیبانی

برای سوالات و مشکلات:
- 📧 ایمیل: support@yourcompany.com
- 📱 تلگرام: @yourcompany_support
- 🌐 وبسایت: www.yourcompany.com

## 📄 مجوز

این پروژه تحت مجوز MIT منتشر شده است.

---

**ساخته شده با ❤️ برای صنایع ایران**